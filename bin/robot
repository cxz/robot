#!/usr/bin/env ruby -Ku

File.tap { |f| require f.expand_path(f.join(f.dirname(__FILE__), '..', 'lib', 'robot.rb')) }

NAME = "Toy Robot"

toy = Toy.new(Board.new)


loop do
  ('%s> ' % NAME).display
  input = gets.chomp
  verb, *params = input.strip.split /\s/
  params ||= []
  params = params.join(' ').split(/,/).collect{ |i| i.strip.gsub(/,/, "")}.select{ |i| i }
  cmd = Command.create(toy, verb, params)
  cmd.execute
end

